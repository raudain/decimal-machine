# Program number  1:
# This program allocates 150 words of dynamic memory (from the Hypo user dynamic
# memory) using Mem_alloc system call described in the MTOPS handout.
# It fills (sets) the allocated memory with numbers 1, 2, 3, 4, …, 150 then halts.

# Instructions used:
# NAME      OP-CODE Description
# Halt      0       Halt execution
# Add       1       Op1 op1 + op2
# Subtract  2       Op1 op1 – op2
# Move      5       Op1 op2

# Branch on minus   7   If Op1 < 0 then PC next word of the instruction. 
#                       Op2 is not used.

# Request memory    12  The second word is the size of the memory requested

# Addressing modes used:
# 0 Invalid/not used	Mode digit is not used in the instruction

# 1 Register mode		The specified general purpose register contains the 
#                       operand value.

# 3 Auto-increment		Register content is incremented by 1 after fetching the 
#                       operand's address

# 5 Direct mode         Next word contains the address of the operand. 
#                       Operand value is in the main memory. A general purpose
#                       register is not used. Use PC to get the address.

# 6 Immediate mode      Next word contains the operand value. Operand value was loaded into the 
#						application memory when this program was loaded by the machine. A 
#						general purpose register is not used. Address is in the program counter.

#Address-Content/Value
#  op M R M R	op: operation code, M: mode, R: register

1	5 1 0 6 0	#1 Sets the count to zero at the first general purpose register
2    0

3	3 1 1 0 0	#2 Gets the program's origin address in application memory and stores it into the second register

4	1 1 1 6 0	#3 Sets the start of loop address at the second register
5    5

6	1 1 0 6 0   #4 Increments the first register number by one
7	 1

8 12 1 0 0 0   	#5 Store the contents of first register into output memory
                
9  5 1 2 1 0   	#6 Copies current value of the count in the first register to the third register

10  2 1 2 6 0   #7 Compares the copy of the current value of the count to its maximum amount through      
11   150       	#8 subtracting the maximum count

12  7 1 2 1 1   #9 Loops to the loop address, which is at the second register if maximum value for count has not been reached.

13  0 0 0 0 0   #10 Halt in the case of the program finishing